window.__require=function e(t,n,i){function o(c,h){if(!n[c]){if(!t[c]){var l=c.split("/");if(l=l[l.length-1],!t[l]){var a="function"==typeof __require&&__require;if(!h&&a)return a(l,!0);if(s)return s(l,!0);throw new Error("Cannot find module '"+c+"'")}c=l}var u=n[c]={exports:{}};t[c][0].call(u.exports,function(e){return o(t[c][1][e]||e)},u,u.exports,e,t,n,i)}return n[c].exports}for(var s="function"==typeof __require&&__require,c=0;c<i.length;c++)o(i[c]);return o}({AudioEngine:[function(e,t,n){"use strict";cc._RF.push(t,"3bb8bXQNbtGQLlUlh6pImlR","AudioEngine"),cc.Class({extends:cc.Component,properties:{audio:{default:null,type:cc.AudioClip}},onLoad:function(){this.current=cc.audioEngine.play(this.audio,!0,1)},update:function(e){},onDestory:function(){cc.audioEngine.stop(this.current)}}),cc._RF.pop()},{}],Bullet:[function(e,t,n){"use strict";cc._RF.push(t,"02d87yfa2tNHJi9C2MoWaEz","Bullet");var i=e("Global");cc.Class({extends:cc.Component,properties:{},start:function(){},update:function(e){this.moveBullet(e)},moveBullet:function(e){this.node.y+=500*e},onCollisionEnter:function(e,t){var n=e.node.getComponent("Enemy");1===e.tag&&n&&!n.checkDead()&&(i.game.recyleBullet(t.node),n.hit())}}),cc._RF.pop()},{Global:"Global"}],Constant:[function(e,t,n){"use strict";cc._RF.push(t,"34345VkNElDhYsWzP/+Y26n","Constant"),t.exports={ROOT:"res/raw-assets/"},cc._RF.pop()},{}],Enemy:[function(e,t,n){"use strict";cc._RF.push(t,"8e3eavnf/1Mo5+QL7n/ZqN9","Enemy");var i=e("Global");cc.Class({extends:cc.Component,properties:{enemyTag:{type:cc.Integer,default:0},brokenAudio:{default:null,type:cc.AudioClip}},onLoad:function(){},start:function(){},update:function(e){this.node.y-=5},hit:function(){this.checkDead()||(this.isDead=!0,1===this.enemyTag&&(this.isDead=!0,cc.audioEngine.play(this.brokenAudio,!1,1),this.anim=this.node.getComponent(cc.Animation),this.anim.on("finished",this.finished,this),this.anim.play()))},finished:function(e,t){this.anim.off("finished",this.finished,this);var n=this.anim.currentClip;this.anim.setCurrentTime(0,n.name),this.anim.sample(n.name),i.game.recyleEnemy(this.enemyTag,this.node),this.isDead=!1},checkDead:function(){return this.isDead}}),cc._RF.pop()},{Global:"Global"}],Game:[function(e,t,n){"use strict";cc._RF.push(t,"38c0e4TN6NCgbFNjIjD9+aE","Game");var i=e("Global"),o=e("Utils");cc.Class({extends:cc.Component,properties:{bg:{type:cc.Node,default:null},speed:{type:cc.Float,default:250},hero:{type:cc.Node,default:null},bullet:{type:cc.Prefab,default:null},enemy1:{type:cc.Prefab,default:null},enemy2:{type:cc.Prefab,default:null},enemy3:{type:cc.Prefab,default:null}},onLoad:function(){i.game=this;var e=cc.director.getCollisionManager();e.enabled=!0,e.enabledDebugDraw=!0,this.bulletPool=new cc.NodePool,this.bulletDistance=this.bulletCount=8,this.hero.zIndex=1,this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchCancel,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this)},start:function(){this.designSize=cc.view.getDesignResolutionSize()},update:function(e){this.scrollBackground(e),this.updateBullet(),this.updateEnemy(e,1,1.2)},onDestroy:function(){this.node.off(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.touchCancel,this),this.node.off(cc.Node.EventType.TOUCH_END,this.touchEnd,this)},scrollBackground:function(e){if(this.bg.y-=this.speed*e,this.bg.y<=-this.designSize.height){var t=Math.abs(this.bg.y)-this.designSize.height;this.bg.y=-t}},touchStart:function(e){},touchMove:function(e){var t=e.getDelta();this.hero.x+=t.x,this.hero.y+=t.y,this.crossHandler(t)},touchCancel:function(e){},touchEnd:function(e){},updateEnemy:function(e,t,n){this["enemy".concat(t,"Timer")]||(this["enemy".concat(t,"Timer")]=0),this["enemy".concat(t,"Timer")]>=n&&(this["enemy".concat(t,"Timer")]=0,this.createEnemy(t),this.enemyCrossHandler(t)),this["enemy".concat(t,"Timer")]+=e},createEnemy:function(e){var t=null;this["enemy".concat(e,"Pool")]||(this["enemy".concat(e,"Pool")]=new cc.NodePool),t=this["enemy".concat(e,"Pool")].size()>0?this["enemy".concat(e,"Pool")].get():cc.instantiate(this["enemy".concat(e)]),this.node.addChild(t),t.name="enemy".concat(e);var n=-this.designSize.width/2+t.width/2,i=this.designSize.width/2-t.width/2;t.setPosition(cc.v2(o.randomNum(n,i),this.designSize.height/2+t.height/2))},recyleEnemy:function(e,t){this["enemy".concat(e,"Pool")].put(t)},enemyCrossHandler:function(e){var t=this;this.node.children.forEach(function(n){n.name==="enemy".concat(e)&&n.y<=-t.designSize.height/2-n.height/2&&t.recyleEnemy(e,n)})},updateBullet:function(){this.bulletDistance++,this.bulletDistance>=this.bulletCount&&(this.bulletDistance=0,this.createBullet(),this.bulletCrossHandler())},createBullet:function(){var e=null;e=this.bulletPool.size()>0?this.bulletPool.get():cc.instantiate(this.bullet),this.node.addChild(e),e.name="bullet",e.setPosition(cc.v2(this.hero.x,this.hero.y+this.hero.height/2))},recyleBullet:function(e){this.bulletPool.put(e)},bulletCrossHandler:function(){var e=this;this.node.children.forEach(function(t){"bullet"===t.name&&t.y>=e.designSize.height/2&&e.recyleBullet(t)})},crossHandler:function(e){this.hero.x-this.hero.width/2<=-this.designSize.width/2&&(this.hero.x-=e.x),this.hero.y-this.hero.height/2<=-this.designSize.height/2&&(this.hero.y-=e.y),this.hero.x+this.hero.width/2>=this.designSize.width/2&&(this.hero.x-=e.x),this.hero.y+this.hero.height/2>=this.designSize.height/2&&(this.hero.y-=e.y)}}),cc._RF.pop()},{Global:"Global",Utils:"Utils"}],Global:[function(e,t,n){"use strict";cc._RF.push(t,"6c8e17TE2xH4baRzhXE6jcE","Global"),t.exports={game:null},cc._RF.pop()},{}],Hero:[function(e,t,n){"use strict";cc._RF.push(t,"03f95EmXIFK4bNPTkm28MKu","Hero"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],Utils:[function(e,t,n){"use strict";cc._RF.push(t,"2fd7a/vDJhIrIM+kkbLYKug","Utils"),t.exports={randomNum:function(e,t){switch(arguments.length){case 1:return parseInt(Math.random()*e+1,10);case 2:return parseInt(Math.random()*(t-e+1)+e,10);default:return 0}}},cc._RF.pop()},{}]},{},["AudioEngine","Bullet","Constant","Enemy","Game","Global","Hero","Utils"]);