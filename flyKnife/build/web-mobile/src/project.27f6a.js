window.__require=function t(e,i,n){function o(a,s){if(!i[a]){if(!e[a]){var c=a.split("/");if(c=c[c.length-1],!e[c]){var h="function"==typeof __require&&__require;if(!s&&h)return h(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var l=i[a]={exports:{}};e[a][0].call(l.exports,function(t){return o(e[a][1][t]||t)},l,l.exports,t,e,i,n)}return i[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<n.length;a++)o(n[a]);return o}({Game:[function(t,e,i){"use strict";cc._RF.push(e,"d170aCWVjVNdraJJcd1i8cE","Game"),cc.Class({extends:cc.Component,properties:{targetNode:cc.Node,knifeNode:cc.Node,knifePrefab:cc.Prefab,gameNameLabel:cc.Label,scoreLabel:cc.Label,levelLabel:cc.Label,startButton:cc.Button,restartButton:cc.Button},onLoad:function(){this.scoreNum=0,this.levelNum=1,this.canThrow=!0,this.targetNode.zIndex=1,this.startPos=this.knifeNode.position,this.knifeNodeList=[]},start:function(){this.targetRotation=2},update:function(t){this.targetNode.angle=(this.targetNode.angle+this.targetRotation)%360;var e=!0,i=!1,n=void 0;try{for(var o,r=this.knifeNodeList[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){var a=o.value;a.angle=(a.angle+this.targetRotation)%360;var s=this.targetNode.width/2,c=Math.PI*a.angle/180,h=this.targetNode.x+s*Math.sin(c),l=this.targetNode.y-s*Math.cos(c);a.x=h,a.y=l}}catch(t){i=!0,n=t}finally{try{e||null==r.return||r.return()}finally{if(i)throw n}}},onDestroy:function(){this.node.off(cc.Node.EventType.TOUCH_START,this.touchStart,this)},touchStart:function(t){var e=this;this.canThrow&&(this.canThrow=!1,this.knifeNode.runAction(cc.sequence(cc.moveTo(.15,cc.v2(this.knifeNode.x,this.targetNode.y-this.targetNode.height/2)),cc.callFunc(function(){var t=!1,i=!0,n=!1,o=void 0;try{for(var r,a=e.knifeNodeList[Symbol.iterator]();!(i=(r=a.next()).done);i=!0){var s=r.value;if(Math.abs(s.angle)<13||360-Math.abs(s.angle)<13){t=!0;break}}}catch(t){n=!0,o=t}finally{try{i||null==a.return||a.return()}finally{if(n)throw o}}if(t)return e.knifeNode.runAction(cc.sequence(cc.spawn(cc.moveTo(.25,cc.v2(e.knifeNode.x,-cc.winSize.height)),cc.rotateTo(.25,30)),cc.callFunc(function(){e.gameOver()})));var c=cc.instantiate(e.knifePrefab);c.setPosition(e.knifeNode.position),e.node.addChild(c),e.knifeNode.setPosition(e.startPos),e.knifeNodeList.push(c),e.canThrow=!0,e.scoreLabel.string=++e.scoreNum,e.checkPass()&&e.nextLevel()}))))},gameOver:function(){this.restartButton.node.active=!0},removeAllKnifePrefab:function(){var t=!0,e=!1,i=void 0;try{for(var n,o=this.knifeNodeList[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){n.value.removeFromParent(!0)}}catch(t){e=!0,i=t}finally{try{t||null==o.return||o.return()}finally{if(e)throw i}}},checkPass:function(){return this.scoreNum/7%this.levelNum==0},nextLevel:function(){this.removeAllKnifePrefab(),this.knifeNodeList=[],this.targetRotation+=.3,this.levelLabel.string=++this.levelNum},startClick:function(){this.gameNameLabel.node.active=!1,this.startButton.node.active=!1,this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this)},restartClick:function(){this.restartButton.node.active=!1,this.scoreLabel.string=this.scoreNum=0,this.levelLabel.string=this.levelNum=1,this.canThrow=!0,this.targetNode.zIndex=1,this.knifeNode.setPosition(this.startPos),this.knifeNode.angle=0,this.removeAllKnifePrefab(),this.knifeNodeList=[],this.targetRotation=2}}),cc._RF.pop()},{}]},{},["Game"]);